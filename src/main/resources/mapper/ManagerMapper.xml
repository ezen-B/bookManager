<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.ManagerMapper">
  
  <select id="loginOk" resultType="com.example.demo.AdminMemberDto">
    select name , level , userid from adminMember
    where userid=#{userid} and pwd=#{pwd}
  </select>

  <select id="memberList" resultType="com.example.demo.AdminMemberDto">
    select * from adminMember
    order by level desc
  </select>

  <insert id="addMemberOk" parameterType="com.example.demo.AdminMemberDto">
    insert into adminMember(name,userid,pwd,level)
    values(#{name},#{userid},#{pwd},#{level})
  </insert>

  <delete id="delMember">
    delete from adminMember
    where id=#{id}
  </delete>

  <select id="getMember" resultType="com.example.demo.AdminMemberDto">
    select * from adminMember
    where id=#{id}
  </select>

  <update id="upMemberOk" parameterType="com.example.demo.AdminMemberDto">
    update adminMember
    set name=#{name} , userid=#{userid}
    , level=#{level}
    where id=#{id}
  </update>

  <select id="useridOk" resultType="Boolean">
    select count(*) 
    from adminMember
    where userid=#{userid}
  </select>
</mapper>